(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,t,a){},121:function(e,t,a){},130:function(e,t,a){},188:function(e,t,a){},230:function(e,t,a){e.exports=a(615)},234:function(e,t,a){},238:function(e,t,a){},26:function(e,t){var a={units:["N/A"],name:"No Sensor",int_name:"none",channels:[0],volumetric:!1},n=[a,{units:["psi","mmHg","kPa","bar"],name:"SciPres Monitor I",int_name:"scipres_1",channels:[1,2,3,4],volumetric:!1},{units:["psi","mmHg","kPa","bar"],name:"Pendotech PressureMAT",int_name:"pendo_1",channels:[1,2,3],volumetric:!1}],s=[a,{units:["auto"],name:"AnD Scale",int_name:"scale_1",channels:[1],volumetric:!0}];t.SecondarySelections=n,t.VolumetricSelections=s},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},533:function(e,t){},535:function(e,t){},569:function(e,t){},570:function(e,t){},576:function(e,t){},578:function(e,t){},613:function(e,t,a){},615:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(17),l=a.n(o),i=a(3),r=a(4),c=a(14),u=a(6),m=a(5),d=(a(234),a(10),a(42)),h=a(41),f=a(25),p=a.n(f),v=a(49),g=a(69),S=a.n(g),C=(a(94),a(238),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){e.props.toggle()},e.state={statusText:"Fetching Nearby WiFi Connections...",ssidList:[],selectSsid:"Select Wifi Connection",selectPassword:"",hasInternet:!1,showKeyboard:!1,layoutName:"default",showPassState:"password"},e.getConnections=function(){(function(){var t=Object(v.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3011/getWifiAps").then((function(e){return e.json()})).then((function(t){for(var a=t.accessPoints,n=0;n<a.length;n++){var o=a[n].ssid;e.state.ssidList.push(s.a.createElement("option",{value:o},o))}e.setState({statusText:"Waiting For Selection"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},e.ssidSelected=function(t){e.setState({selectSsid:t.target.value})},e.passChanged=function(t){e.setState({selectPassword:t.target.value}),e.keyboard.setInput(e.state.selectPassword)},e.ConnectWifi=function(){e.setState({statusText:"Attempting To Connect to "+e.state.selectSsid});var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ssid:e.state.selectSsid,password:e.state.selectPassword})};fetch("http://localhost:3011/connectAp",t).then((function(e){return e.json()})).then((function(t){t.success?e.setState({statusText:"Connected To "+e.state.selectSsid+"!"}):e.setState({statusText:"Could Not Connect To "+e.state.selectSsid})}),(function(e){}))},e.ConnectAnyway=function(){e.setState({hasInternet:!1})},e.pwInputSelected=function(){e.setState({showKeyboard:!0})},e.pwInputDeselected=function(){},e.onChange=function(t){e.setState({selectPassword:t})},e.showPassword=function(){var t=e.state.showPassState;e.setState({showPassState:"text"===t?"password":"text"})},e.onKeyPress=function(t){"{shift}"===t||"{lock}"===t?e.handleShift():e.setState({layoutName:"default"})},e.handleShift=function(){var t=e.state.layoutName;e.setState({layoutName:"default"===t?"shift":"default"})},e.componentDidMount=function(){e.state.ssidList.push(s.a.createElement("option",{value:"Select Wifi Connection"},"Select WiFi Connection")),e.setState({hasInternet:e.props.hasInternet}),e.getConnections()},e.renderConnect=function(){return s.a.createElement("div",{className:"modalz"},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitlez"},s.a.createElement("div",{className:"titletext"},"Connect To A WiFi Access Point")),s.a.createElement("div",{className:"exitButtonz",onClick:e.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement("div",{className:"statusInd"},e.state.statusText),s.a.createElement("form",{className:"wifiForm"},s.a.createElement("label",{className:"formLabel"},"WiFi Access Point Name:"),s.a.createElement("select",{className:"ssidDropdown",size:"5",id:"selectbox",value:e.state.selectSsid,onChange:e.ssidSelected},e.state.ssidList),s.a.createElement("label",{className:"formLabel"},"Password:"),s.a.createElement("input",{className:"passwordInput",type:e.state.showPassState,name:"password",value:e.state.selectPassword,onChange:e.passChanged,onSelect:e.pwInputSelected,onBlur:e.pwInputDeselected}),s.a.createElement("label",{className:"formLabel"},"Show Password:"),s.a.createElement("input",{className:"showPass",type:"radio",checked:"text"===e.state.showPassState,onClick:e.showPassword})),s.a.createElement("button",{className:"connectButton",onClick:e.ConnectWifi},"Connect")),s.a.createElement("div",{style:{color:"black"}},e.state.showKeyboard?s.a.createElement(S.a,{keyboardRef:function(t){return e.keyboard=t},layoutName:e.state.layoutName,onChange:e.onChange,onKeyPress:e.onKeyPress}):null))},e.renderAlready=function(){return s.a.createElement("div",{className:"modalz"},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitlez"},s.a.createElement("div",{className:"titletext"},"Connect To A WiFi Access Point")),s.a.createElement("div",{className:"exitButtonz",onClick:e.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement("div",{className:"statusInd"},"Already Connected!"),s.a.createElement("button",{className:"connectButton",style:{width:"40%"},onClick:e.ConnectAnyway},"New Connection")))},e.renderContent=function(){return e.state.hasInternet?e.renderAlready():e.renderConnect()},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.renderContent())}}]),a}(s.a.Component)),y=function(){function e(){Object(i.a)(this,e),this.loopState={flowOs:0,running:!1,serialNum:"N/A",volOs:"1",volSecDerived:!1},this.flowData={instFlow:0,avgFlow:0,volume:0,setPoint:0},this.secData={reading:0,unit:"null",setPoint:0,extraData:[],available:!1},this.volData={reading:0,unit:"null",setPoint:0,available:!1},this.pollCallbacks=[],this.runningCallbacks=[],this.running=!1,this.getPythonData=this.getPythonData.bind(this),setInterval(this.getPythonData,100)}return Object(r.a)(e,[{key:"getStateData",value:function(){return this.loopState}},{key:"getFlowData",value:function(){return this.flowData}},{key:"getVolumetricData",value:function(){return this.volData}},{key:"getSecondaryData",value:function(){return this.secData}},{key:"getAllData",value:function(){return{loopState:this.loopState,flowData:this.flowData,volData:this.volData,secData:this.secData}}},{key:"OnPoll",value:function(e){this.pollCallbacks.push(e)}},{key:"OnRunningChange",value:function(e){this.runningCallbacks.push(e)}},{key:"assertRunning",value:function(e,t){if(e!=t)for(var a=0;a<this.runningCallbacks.length;a++)this.runningCallbacks[a](t)}},{key:"getPythonData",value:function(){var e=this;fetch("http://localhost:3005/getState").then((function(e){return e.json()})).then((function(t){e.loopState.flowOs=t.state.flowOs,e.loopState.running=t.state.loopRunning,e.loopState.serialNum=t.state.serialNum,e.loopState.volOs=t.state.volOs,e.loopState.volSecDerived=t.state.volSecDerived,e.flowData.instFlow=t.instantFlow,e.flowData.setPoint=t.setPoint;var a=t.avgFlow;Math.abs(a-t.setPoint)<.06*t.setPoint&&(a=t.setPoint),e.flowData.avgFlow=a,e.flowData.volume=t.volume,e.secData.reading=t.secVal,e.secData.unit=t.secUnit,e.secData.setPoint=t.secSetPoint,e.secData.extraData=t.secondaryExtra,e.secData.available=t.secAvailable,e.volData.reading=t.volSecReading,e.volData.setpoint=t.volSetPoint,e.volData.unit=t.volUnits,e.volData.available=t.volumeAvailable}),(function(e){console.log(e)})),this.assertRunning(this.running,this.loopState.running),this.running=this.loopState.running,this.sendPollEvent()}},{key:"sendPollEvent",value:function(){for(var e=0;e<this.pollCallbacks.length;e++)this.pollCallbacks[e]()}}],[{key:"getInstance",value:function(){return null==e.primaryInstance&&(e.primaryInstance=new e),e.primaryInstance}}]),e}();y.primaryInstance=null,y.secondaryInstance=null;var b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={serialNum:"N/A",seen:!1,hasInternet:!1,wifiColor:"red"},e.getSerialNumber=function(){var t=y.getInstance().getStateData().serialNum;e.setState({serialNum:t})},e.startSerialScan=function(){setInterval(e.getSerialNumber,2500)},e.rotatePressed=function(){e.props.rotatePressed()},e.showWifiModal=function(){e.setState({seen:!e.state.seen})},e.checkInternet=function(){fetch("http://localhost:3011/checkConn").then((function(e){return e.json()})).then((function(t){var a="red";t.hasInternet&&(a="limegreen"),e.setState({hasInternet:t.hasInternet,wifiColor:a})}),(function(e){}))},e.componentDidMount=function(){e.checkInternet(),setInterval(e.checkInternet,5e3),e.startSerialScan()},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("h1",{className:"mainHeader"},s.a.createElement("button",{className:"wifiButton",onClick:this.showWifiModal},s.a.createElement(h.a,{icon:d.c,style:{padding:5},color:this.state.wifiColor})),s.a.createElement("div",{style:{left:"43%",top:"-0.5%",position:"absolute",fontSize:17,justifyContent:"center"}},s.a.createElement("span",{style:{fontSize:.05*window.innerHeight}},"FCS")," [S/N:",this.state.serialNum,"]"),s.a.createElement("button",{className:"rotateButton",onClick:this.rotatePressed},s.a.createElement(h.a,{icon:d.b,style:{padding:5},color:"white"})),this.state.seen?s.a.createElement(C,{flipped:this.props.flipped,hasInternet:this.state.hasInternet,toggle:this.showWifiModal}):null)}}]),a}(s.a.Component),E=(a(239),s.a.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={flowRate:0,volume:0},n.GetInstantFlowRate=n.GetInstantFlowRate.bind(Object(c.a)(n)),setInterval(n.GetInstantFlowRate,50),n}return Object(r.a)(a,[{key:"GetInstantFlowRate",value:function(){var e=Math.floor(y.getInstance().getFlowData().avgFlow);this.setState({flowRate:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"guage"},s.a.createElement("div",{className:"guageTitle"},"Instantaneous Flow Rate"),s.a.createElement("div",{className:"flowBox"},s.a.createElement("div",{className:"innerFlowBox"},s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"divider",style:{top:"-35%"}},this.state.flowRate)),s.a.createElement("div",{className:"innerFlowBoxL"},s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"divider",style:{top:"-35%"}},"mL/min"))))}}]),a}(s.a.Component)),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={flowRate:0,volume:0},n.GetVolume=n.GetVolume.bind(Object(c.a)(n)),setInterval(n.GetVolume,300),n}return Object(r.a)(a,[{key:"GetVolume",value:function(){var e=this;fetch("http://localhost:3005/peakAvg").then((function(e){return e.json()})).then((function(t){var a=Math.floor(t.volume);e.setState({volume:a})}),(function(t){e.setState({flowRate:0})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"volguage"},s.a.createElement("div",{className:"guageTitle"},"Volume"),s.a.createElement("div",{className:"flowBox"},s.a.createElement("div",{className:"innervFlowBox"},s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"divider",style:{top:"-35%"}},this.state.volume)),s.a.createElement("div",{className:"innervFlowBoxL"},s.a.createElement("div",{className:"divider"}),s.a.createElement("div",{className:"divider",style:{top:"-35%"}},"mL"))))}}]),a}(s.a.Component),k=(a(145),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).unfocus=function(){n.setState({zeroing:!1})},n.state={zeroing:!1},n.ZeroSensor.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"ZeroSensor",value:function(){this.setState({zeroing:!0}),fetch("http://localhost:3005/zero").then((function(e){return e.json()})).then((function(e){}),(function(e){})),setTimeout(this.unfocus,3e3)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,!1===this.state.zeroing&&s.a.createElement("button",{className:"tareButton",onClick:function(){e.ZeroSensor()}},"Tare"),!0===this.state.zeroing&&s.a.createElement("button",{className:"tareButtonfocus",onClick:function(){e.ZeroSensor()}},"Tare"))}}]),a}(s.a.Component)),w=(a(513),["#297EE3","#6729E3","#E329C7","#F44353","#FC9B4F","#0EBAD5"]),O=0,P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={bUsbStat:!1,SusbStat:"No USB Drive Found",statColor:"red",fSaveStat:"Save",fName:e.props.fName,saveColor:"#0EBAD5",intervalId:0},e.handleClick=function(){e.props.toggle()},e.getFile=function(){fetch("http://localhost:3005/filename").then((function(e){return e.json()})).then((function(t){var a=t.fileName;e.setState({fName:a}),e.forceUpdate()}),(function(e){}))},e.refreshFile=function(){e.props.getFile()},e.scanButtonColors=function(){e.setState({saveColor:w[O]}),(O+=1)>=w.length&&(O=0)},e.startScan=function(){var t=setInterval(e.scanButtonColors,500);e.setState({intervalId:t})},e.stopScan=function(){clearInterval(e.state.intervalId),e.setState({saveColor:"#0EBAD5"})},e.saveFile=function(){e.state.bUsbStat&&(e.setState({fSaveStat:"Saving"}),e.startScan(),fetch("http://localhost:3005/savecsv").then((function(e){return e.json()})).then((function(t){e.setState({fSaveStat:"Saved"}),e.stopScan()}),(function(e){})))},e.refreshUsbStat=function(){fetch("http://localhost:3005/usbstat").then((function(e){return e.json()})).then((function(t){1==t.usbStatus?e.setState({bUsbStat:!0,SusbStat:"USB Drive Connected",statColor:"LightGreen"}):e.setState({bUsbStat:!1,SusbStat:"No USB Drive Found",statColor:"LightCoral"})}),(function(e){})),e.getFile()},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal",style:{height:"40%",width:"40%",top:"30%",left:"30%"}},s.a.createElement("div",{className:"modal_contentl"},s.a.createElement("div",{className:"modalTopBarl"},s.a.createElement("div",{className:"modalTitlel"},s.a.createElement("div",{className:"titletext"},"Log Flow Data")),s.a.createElement("div",{className:"exitButtonl",onClick:this.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement("div",{className:"statBar"},s.a.createElement("div",{className:"usbStatBar",style:{background:this.state.statColor}},s.a.createElement("div",{className:"ttable"},s.a.createElement("p",{className:"statTxt"},this.state.SusbStat))),s.a.createElement("button",{className:"refButton",onClick:this.refreshUsbStat},"Refresh")),s.a.createElement("div",{className:"fileBar"},s.a.createElement("div",{className:"filenamebar"},s.a.createElement("div",{className:"ttable"},s.a.createElement("p",{className:"statTxt",style:{fontSize:"11px"}},this.state.fName))),s.a.createElement("button",{className:"refButton",style:{backgroundColor:this.state.saveColor},onClick:this.saveFile},this.state.fSaveStat))))}}]),a}(s.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={seen:0,loggingMsg:"Start Logging",fName:"",sColor:"#ed2f2f"},e.getFileName=function(){fetch("http://localhost:3005/filename").then((function(e){return e.json()})).then((function(t){var a=t.fileName;e.setState({fName:a}),e.forceUpdate()}),(function(e){}))},e.togglePop=function(){var t=0;switch(t=e.state.seen,e.getFileName(),t){case 0:e.setState({loggingMsg:"Stop Logging"}),e.setState({sColor:"#5fe86d"}),e.startLogging(),e.props.logState(!0);break;case 1:e.setState({loggingMsg:"Save Log"}),e.setState({sColor:"#5bace3"}),e.stopLogging(),e.getFileName(),e.props.logState(!1);break;case 2:e.setState({loggingMsg:"Start Logging"}),e.setState({sColor:"#ed2f2f"})}e.forceUpdate(),t=e.state.seen>2?0:e.state.seen+1,e.setState({seen:t})},e.startLogging=function(){fetch("http://localhost:3005/startlog").then((function(e){return e.json()})).then((function(e){}),(function(e){}))},e.stopLogging=function(){fetch("http://localhost:3005/stoplog").then((function(e){return e.json()})).then((function(e){}),(function(e){}))},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("button",{className:"logButton",style:{backgroundColor:this.state.sColor},onClick:this.togglePop},this.state.loggingMsg),this.state.seen>2?s.a.createElement(P,{toggle:this.togglePop,fName:this.state.fName}):null)}}]),a}(s.a.Component),D=function(){function e(){Object(i.a)(this,e),this.stopCallbacks=[]}return Object(r.a)(e,[{key:"addStopStartCallback",value:function(e){this.stopCallbacks.push(e)}},{key:"onStopStartPushed",value:function(e){for(var t=0;t<this.stopCallbacks.length;t++)this.stopCallbacks[t](e)}}],[{key:"getInstance",value:function(){return null==e._instance&&(e._instance=new e),this._instance}}]),e}();D._instance=null;var x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).checkVolStat=function(){fetch("http://localhost:3005/getVolrs").then((function(e){return e.json()})).then((function(e){1===e.status?(clearInterval(n._int),n.setState({buttonText:"Start",status:!1,color:"#60E570"})):n.setState({buttonText:"Stop",status:!0,color:"#F85151"})}),(function(e){}))},n.assertState=function(e){e?n.setState({buttonText:"Stop",status:!0,color:"#F85151"}):n.setState({buttonText:"Start",status:!1,color:"#60E570"})},n.componentDidMount=function(){y.getInstance().OnRunningChange(n.assertState)},n.StartStop.bind(Object(c.a)(n)),n.state={status:!1,buttonText:"Start",color:"#60E570"},n._int=-9999,n}return Object(r.a)(a,[{key:"StartStop",value:function(){this.state.status?fetch("http://localhost:3005/stop").then((function(e){return e.json()})).then((function(e){}),(function(e){})):fetch("http://localhost:3005/start").then((function(e){return e.json()})).then((function(e){}),(function(e){}))}},{key:"render",value:function(){var e=this;return s.a.createElement("button",{className:"stopButton",style:{backgroundColor:this.state.color},onClick:function(){e.StartStop()}},this.state.buttonText)}}]),a}(s.a.Component),F=(a(121),a(514),a(515),{default:["{enter} {bksp}","1 2 3","4 5 6","7 8 9","- 0 ."]}),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){void 0!=n.props.initVal&&n.setState({kpStrValue:String(n.props.initVal)}),n.props.keyPadRef&&n.props.keyPadRef(Object(c.a)(n))},n.onSelect=function(){n.setState({seen:!0,borderColor:"limegreen"}),void 0!==n.props.overrideval&&n.setState({kpStrValue:String(n.props.overrideval)})},n.onBlur=function(){},n.setVal=function(e){n.setState({kpStrValue:e})},n.onChanged=function(e){var t="0";if(""!==e&&(t=e),n.setState({kpStrValue:t}),n.props.fullKeyboard)n.props.onChange(t);else{var a=0;try{a=parseFloat(t)}catch(s){return}isNaN(a)&&(a=0),n.props.onChange(a)}},n.inputChange=function(e){},n.onKeyPress=function(e){if("{enter}"===e&&(n.props.onEnter&&n.props.onEnter(),n.keyboard.destroy(),n.setState({seen:!1,borderColor:"grey"})),"{bksp}"===e){var t=n.state.kpStrValue.slice(0,-1);n.onChanged(t)}},n.kbBlur=function(){n.setState({seen:!1,borderColor:"grey"})};return n.state={kpStrValue:"",seen:!1,borderColor:"grey"},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{className:this.props.className,style:{margin:"3px",border:"3px solid",borderColor:this.state.borderColor},name:"kpinput",value:this.props.overrideval&&!this.state.seen?this.props.overrideval:this.state.kpStrValue,onChange:this.inputChange,onSelect:this.onSelect,onBlur:this.onBlur}),this.state.seen?s.a.createElement("div",{className:"kpFloatDiv"},s.a.createElement(S.a,{keyboardRef:function(t){return e.keyboard=t},layout:this.props.fullKeyboard?null:F,layoutName:"default",onChange:this.onChanged,onKeyPress:this.onKeyPress,onBlur:this.kbBlur})):null)}}]),a}(s.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).OnCurrentChange=function(e){n.setState({currentVal:e})},n.OnWantedChange=function(e){n.setState({wantedVal:e})},n.componentDidMount=function(){"0"===n.props.osType?n.GetInstantFlowRate():n.getVolSetPoint()},n.SetOffset=function(){var e=n.state.wantedVal-n.state.currentVal;if("1"===n.props.osType){if(0===n.state.currentVal)return;e=n.state.currentVal/n.state.wantedVal}n.setState({offset:e});var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offsetValue:e,type:n.props.osType})};fetch("http://localhost:3005/offset",t).then((function(e){return e.json()})).then((function(e){}),(function(e){})),n.props.closeFunc()},n.ClearOffset=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offsetValue:0,type:n.props.osType})};fetch("http://localhost:3005/offset",e).then((function(e){return e.json()})).then((function(e){}),(function(e){})),n.props.closeFunc()},n.GetInstantFlowRate=function(){fetch("http://localhost:3005/flow").then((function(e){return e.json()})).then((function(e){var t=Math.floor(e.iFlowRate);n.setState({currentVal:t})}),(function(e){n.setState({flowRate:0})}))},n.getVolSetPoint=function(){fetch("http://localhost:3005/getVolSp").then((function(e){return e.json()})).then((function(e){n.setState({currentVal:e.volume})}),(function(e){n.setState({flowRate:0})}))},n.state={currentVal:0,wantedVal:0,offset:0},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:"80%",width:"100%"}},s.a.createElement("div",{className:"keyOrg"},s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt",style:{color:"blue"}},"FDC Read Value:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{overrideval:this.state.currentVal,className:"entryIn",onChange:this.OnCurrentChange}))),s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt",style:{color:"red"}},"Ext. Measured Value:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{initVal:this.state.wantedVal,className:"entryIn",onChange:this.OnWantedChange})))),s.a.createElement("div",{className:"buttonDivv"},s.a.createElement("button",{className:"saveButtonv",onClick:this.SetOffset},"Calibrate"),s.a.createElement("button",{className:"saveButtonv",style:{left:"70%",position:"absolute"},onClick:this.ClearOffset},"Reset")))}}]),a}(s.a.Component),I=0,L={name:"default",flowCal:0,volCal:1},B={name:"Add New",flowCal:0,volCal:1},R={g:1,kg:.001,oz:28.35,lb:453.6};function A(e,t){return isFinite(e)?e:t}var U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.props.toggle()},n.populateTable=function(){for(var e=0;e<n.calibrationList.length;e++)console.log(n.calibrationList[e].volCal),n.state.calibrationTableItems.push(s.a.createElement("option",{key:e,value:JSON.stringify(n.calibrationList[e])},n.calibrationList[e].name));n.state.calibrationTableItems.push(s.a.createElement("option",{key:99,value:JSON.stringify(B)},"+ Add New Calibration")),console.log(n.state.calibrationTableItems),n.forceUpdate()},n.getCalibrations=function(){fetch("http://localhost:3005/getCalibrations").then((function(e){return e.json()})).then((function(e){console.log("calresult",e),n.calibrationList=e;for(var t=0;t<e.length;t++)if(e[t].selected){n.selectedType=e[t];break}console.log("SELECTED",n.selectedType),n.populateTable(),n.state.cachedSelect?n.calSelected({target:{value:n.state.cachedSelect}}):n.calSelected({target:{value:JSON.stringify(n.selectedType)}})}),(function(e){}))},n.componentDidMount=function(){n.getCalibrations(),n.setState({inputVolCal:A((n.state.fcsVol/n.state.extVol).toFixed(3),1)}),n.updateStagedValues()},n.calSelected=function(e){console.log("Selected",e.target.value);var t=JSON.parse(e.target.value);n.setState({selectedType:t,selFlowCal:t.flowCal,selVolCal:t.volCal}),console.log(t.name),t.name!==L.name&&t.name!==B.name?(console.log("Changing name"),n.setState({saveAvailable:!0}),n.nameChanged(t.name)):(n.setState({saveAvailable:!1}),n.setState({stagedName:"",saveButtonTxt:"Save Cal"})),n.resetValues(t.flowCal,t.volCal)},n.setSaveColor=function(e){n.setState({saveColor:e})},n.setApplyColor=function(e){n.setState({applyColor:e})},n.resetValues=function(e,t){var a=e+n.state.inputFlowCal,s=(t*n.state.inputVolCal).toFixed(3);s=A(s,1),n.setState({stagedFlow:a,stagedVolume:s})},n.updateStagedValues=function(){var e=n.state.selFlowCal+n.state.inputFlowCal,t=(n.state.selVolCal*n.state.inputVolCal).toFixed(3);t=A(t,1),n.setState({stagedFlow:e,stagedVolume:t}),n.setSaveColor("#54d3ff")},n.fcsFlowUpdate=function(e){n.setState({flowUpdated:!0,fcsFlow:e});var t=n.state.extFlow-e;n.setState({inputFlowCal:t}),n.setSaveColor("#54d3ff")},n.extFlowUpdate=function(e){n.setState({flowUpdated:!0,extFlow:e});var t=e-n.state.fcsFlow;n.setState({inputFlowCal:t}),n.setSaveColor("#54d3ff")},n.fcsVolUpdate=function(e){n.setState({volUpdated:!0,fcsVol:e});var t=e/n.state.extVol;t=A(t,1),n.setState({inputVolCal:t.toFixed(3)}),n.setSaveColor("#54d3ff")},n.extVolUpdate=function(e){n.setState({volUpdated:!0,extVol:e});var t=n.state.fcsVol/e;t=A(t,1),n.setState({inputVolCal:t.toFixed(3)}),n.setSaveColor("#54d3ff")},n.saveStaged=function(){var e=JSON.stringify({name:n.state.stagedName,volCal:n.state.stagedVolume,flowCal:n.state.stagedFlow});fetch("http://localhost:3005/addCalibration",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.json()})).then((function(t){n.setSaveColor("limegreen"),n.setApplyColor("#54d3ff"),console.log(t),n.state.calibrationTableItems=[],n.state.cachedSelect=e,n.getCalibrations()}),(function(e){}))},n.applyCal=function(){console.log("applying",n.state.selectedType);var e=JSON.stringify(n.state.selectedType);fetch("http://localhost:3005/applyCalibration",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.json()})).then((function(e){n.setApplyColor("limegreen")}),(function(e){}))},n.renderInputs=function(){return s.a.createElement("div",{style:{height:"60%",flex:2,marginLeft:"15%",marginTop:"1%"}},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"20%"}},s.a.createElement("span",null,"Flow Current (FCS Measured) Value:"),s.a.createElement(T,{initVal:n.state.fcsFlow,onChange:n.fcsFlowUpdate,onEnter:n.updateStagedValues}),s.a.createElement("span",null,"Flow Wanted (Ext. Measured) Value:"),s.a.createElement(T,{initVal:n.state.extFlow,onChange:n.extFlowUpdate,onEnter:n.updateStagedValues})),s.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},s.a.createElement("span",null,"Volume Current (FCS Measured) Value:"),s.a.createElement(T,{initVal:n.state.fcsVol,onChange:n.fcsVolUpdate,onEnter:n.updateStagedValues}),s.a.createElement("span",null,"Volume Wanted (Ext. Measured) Value:"),s.a.createElement(T,{initVal:n.state.extVol,onChange:n.extVolUpdate,onEnter:n.updateStagedValues}))))},n.renderButtons=function(){return s.a.createElement("div",{style:{display:"flex",marginTop:"1%"}},s.a.createElement("div",{className:"butCont"},s.a.createElement("button",{className:"calButton",onClick:n.saveStaged,style:{backgroundColor:n.state.saveAvailable?n.state.saveColor:"#c7f1ff"}},n.state.saveButtonTxt)),s.a.createElement("div",{className:"butCont"},s.a.createElement("button",{className:"calButton",onClick:n.applyCal,style:{backgroundColor:n.state.applyColor}},n.state.applyButtonTxt)))},n.nameChanged=function(e){console.log("Name Changed",e);var t="Save Cal (Staged -> ".concat(e,")");n.setState({stagedName:e,saveButtonTxt:t,saveAvailable:!0})},n.renderNameInput=function(){return s.a.createElement("div",{style:{visibility:n.state.selectedType.name===B.name?"visible":"hidden",marginTop:"1%"}},s.a.createElement("span",{style:{marginLeft:"15%"}},"Name: "),s.a.createElement(T,{fullKeyboard:!0,onChange:n.nameChanged}))},n.renderSelectedValues=function(){return s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:"27%",marginLeft:"15%"}},s.a.createElement("span",null,"Selected Flow Cal: ",n.state.selFlowCal),s.a.createElement("span",null,"Input Flow Cal. (EXT-FCS): ",n.state.inputFlowCal),s.a.createElement("span",null,"Staged Flow Cal: ",n.state.stagedFlow)),s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement("span",null,"Selected Volume Cal: ",n.state.selVolCal),s.a.createElement("span",null,"Input Vol Cal. (FCS/EXT): ",n.state.inputVolCal),s.a.createElement("span",null,"Staged Volume Cal: ",n.state.stagedVolume)))},n.renderContent=function(){return s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement("div",{className:"seldiv"},s.a.createElement("div",{className:"listTitle"},"Saved Calibrations"),s.a.createElement("select",{className:"selectDrop",size:"8",id:"calselectbox",value:JSON.stringify(n.state.selectedType),onChange:n.calSelected},n.state.calibrationTableItems)),s.a.createElement("span",{className:"selectedSpan"},"Selected: ",n.state.selectedType.name),n.renderInputs(),n.renderNameInput(),n.renderSelectedValues(),n.renderButtons())},n.calibrationList=[],n.dataManager=y.getInstance();var o=n.dataManager.getAllData(),l=o.flowData.avgFlow,r=o.loopState.volSecDerived?o.volData.reading*R[o.volData.unit]:0,c=o.flowData.volume;return n.state={flowOs:0,menuState:I,calibrationList:[],calibrationTableItems:[],selectedType:L,saveButtonTxt:"Save Cal.",applyButtonTxt:"Apply Cal",saveAvailable:!1,applyAvailable:!1,stagedVolume:1,stagedFlow:0,stagedName:"",currentVolume:0,currentFlow:0,selFlowCal:0,selVolCal:1,inputVolCal:1,inputFlowCal:0,extFlow:0,extVol:r.toFixed(0),fcsFlow:l.toFixed(0),fcsVol:c.toFixed(0),flowUpdated:!1,volUpdated:!0,cachedSelect:null,saveColor:"#c7f1ff",applyColor:"#54d3ff"},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modalz"},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitlez"},s.a.createElement("div",{className:"titletext"},"Calibration")),s.a.createElement("div",{className:"exitButtonz",onClick:this.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),this.renderContent()))}}]),a}(s.a.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={seen:!1},e.togglePop=function(){e.setState({seen:!e.state.seen})},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("button",{className:"hiddenButton",style:{marginleft:"10%"},onClick:this.togglePop},"Calibrate"),this.state.seen?s.a.createElement(U,{toggle:this.togglePop}):null)}}]),a}(s.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={logStatus:"Not Logging!",logState:e.props.logState},e.update=function(){e.setState({logStatus:"Logging"})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.logState!==e.logState&&this.setState({logState:!this.state.logState})}},{key:"render",value:function(){return s.a.createElement("div",null,!1===this.state.logState&&s.a.createElement("div",{className:"logNotifierMain",style:{backgroundColor:"red"}},s.a.createElement("div",{className:"logNotText"},"Not Logging!")))}}]),a}(s.a.Component),_=a(58),G=(a(516),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).OnKpChange=function(e){n.setState({kProp:e})},n.OnKiChange=function(e){n.setState({kInt:e})},n.OnKdChange=function(e){n.setState({kDer:e})},n.OnVLChange=function(e){n.setState({volLim:e})},n.SaveValues=function(){n.props.onSet(n.state.kProp,n.state.kInt,n.state.kDer,n.state.volLim);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gProp:n.state.kProp,gInt:n.state.kInt,gDer:n.state.kDer,volLim:n.state.volLim})};fetch("http://localhost:3005/pid",e).then((function(e){return e.json()})).then((function(e){}),(function(e){})),n.props.toggle()},n.CloseWindow=function(){n.props.toggle()},n.state={kProp:n.props.kp,kInt:n.props.ki,kDer:n.props.kd,volLim:n.props.volLim},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitle"},s.a.createElement("div",{className:"titletext"},"PID Control Settings")),s.a.createElement("div",{className:"exitButton",onClick:this.CloseWindow},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement("div",{className:"keyBucket"},s.a.createElement("div",{className:"keyOrg"},s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt"},"Proportional Gain:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{initVal:this.state.kProp,className:"entry",onChange:this.OnKpChange}))),s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt"},"Integral Gain:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{initVal:this.state.kInt,className:"entry",onChange:this.OnKiChange}))),s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt"},"Derivative Gain:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{initVal:this.state.kDer,className:"entry",onChange:this.OnKdChange}))),s.a.createElement("div",{className:"kTableCell"},s.a.createElement("div",{className:"entitle"},s.a.createElement("div",{className:"entxt"},"Volume Control Flow Limit [mL/min]:")),s.a.createElement("div",{className:"entry"},s.a.createElement(T,{initVal:this.state.volLim,className:"entry",onChange:this.OnVLChange})))),s.a.createElement("div",{className:"buttonDiv"},s.a.createElement("button",{className:"saveButton",onClick:this.SaveValues},"Save")))))}}]),a}(s.a.Component)),W=(a(188),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={seen:!1,kp:0,ki:0,kd:0,vl:0},e.OnButtonPressed=function(){e.setState({seen:!e.state.seen})},e.SetParams=function(t,a,n,s){e.setState({kp:t,ki:a,kd:n,vl:s})},e.componentDidMount=function(){fetch("http://localhost:3005/getParams").then((function(e){return e.json()})).then((function(t){e.SetParams(t.kp,t.ki,t.kd,t.vl)}),(function(e){}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e;return s.a.createElement("div",null,s.a.createElement("button",{className:"settingsButton",onClick:this.OnButtonPressed},this.props.icon),this.state.seen?s.a.createElement(G,(e={toggle:this.OnButtonPressed,onSet:this.SetParams},Object(_.a)(e,"toggle",this.OnButtonPressed),Object(_.a)(e,"kp",this.state.kp),Object(_.a)(e,"ki",this.state.ki),Object(_.a)(e,"kd",this.state.kd),Object(_.a)(e,"volLim",this.state.vl),e)):null)}}]),a}(s.a.Component)),J=a(218),K=a.n(J),H=function(){function e(t,a){Object(i.a)(this,e),this.length=t,this.d_time=a,this.data=new Array(t),this.flow=new Array(t).fill(0),this.volume=new Array(t).fill(0),this.setpoint=new Array(t).fill(0),this.secondary=new Array(t).fill(0),this.volumetric=new Array(t).fill(0),this.time=new Array(t).fill(0),this.extraData=new Array(t).fill(0),this.os=new Array(t).fill(0),this.datarr=[],this.initData()}return Object(r.a)(e,[{key:"initData",value:function(){for(var e=(new Date).valueOf()-this.d_time*this.length,t=0;t<this.length;t++)this.time[t]=new Date(e),this.data[t]={flow:0,avgFlow:0,secUnit:"",secVal:0,setPoint:0,volume:0,offset:0,timeStamp:new Date(e),extraData:[],extraDataLen:0,volread:0},e+=this.d_time}},{key:"addPoint",value:function(e,t,a,n,s,o,l,i){this.data.shift(),this.data.push({flow:e,avgFlow:t,secUnit:a,secVal:n,setPoint:s,volume:o,offset:0,extraData:l,extraDataLen:l.length,timeStamp:new Date,volread:i}),this.flow.shift(),this.volume.shift(),this.setpoint.shift(),this.secondary.shift(),this.volumetric.shift(),this.time.shift(),this.extraData.shift(),this.flow.push(t),this.volume.push(o),this.setpoint.push(s),this.secondary.push(n),this.volumetric.push(i),this.time.push(new Date),this.extraData.push(l),this.datarr=[this.flow,this.volume,this.setpoint,this.secondary,this.volumetric,this.time,this.os,this.extraData]}},{key:"getPoints",value:function(e){for(var t=this.length-this.length*e,a=0;a<this.datarr.length;a++)this.datarr[a]=this.datarr[a].slice(t);return this.datarr}},{key:"getData",value:function(e){var t=this.length-this.length*e;return this.data.slice(t)}}]),e}(),Z=a(26),X=function(){function e(){Object(i.a)(this,e),this.sensorParams={sensorType:Z.SecondarySelections[0],unit:"",channel:0,limit:0,reading:0},this.volParams={sensorType:Z.SecondarySelections[0],unit:"",channel:0,limit:0,reading:0},this.volAvailable=!1}return Object(r.a)(e,[{key:"getParams",value:function(){return this.sensorParams}},{key:"getVolParams",value:function(){return this.volParams}},{key:"setReading",value:function(e){this.sensorParams.reading=e}},{key:"getReading",value:function(){var e=this;return fetch("http://localhost:3005/hmiData").then((function(e){return e.json()})).then((function(t){e.sensorParams.reading=t.secVal}),(function(e){})),this.sensorParams.reading}},{key:"getVolReading",value:function(){var e=this;return fetch("http://localhost:3005/hmiData").then((function(e){return e.json()})).then((function(t){e.volParams.reading=t.volSecReading}),(function(e){})),this.volParams.reading}},{key:"getSecLimit",value:function(){var e=this;return fetch("http://localhost:3005/hmiData").then((function(e){return e.json()})).then((function(t){e.sensorParams.limit=t.secSetPoint}),(function(e){})),this.sensorParams.limit}},{key:"getVolLimit",value:function(){var e=this;return fetch("http://localhost:3005/hmiData").then((function(e){return e.json()})).then((function(t){e.volParams.limit=t.volSetPoint}),(function(e){})),this.volParams.limit}},{key:"setParams",value:function(e,t,a,n){this.sensorParams.sensorType=e,this.sensorParams.unit=t,this.sensorParams.channel=a,this.sensorParams.limit=n}},{key:"setVolParams",value:function(e,t,a,n){this.volParams.sensorType=e,this.volParams.unit=t,this.volParams.channel=a,this.volParams.limit=n}},{key:"getVolumeUnits",value:function(){return this.volAvailable?this.volParams.unit:"mL"}},{key:"sensorAvailable",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,fetch("http://localhost:3005/secondaryAvailable").then((function(e){return e.json()})).then((function(e){t=e.available})).catch((function(e){t=!1}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"volumetricAvailable",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,fetch("http://localhost:3005/volumetricAvailable").then((function(e){return e.json()})).then((function(e){t=e.available})).catch((function(e){t=!1}));case 3:return this.volAvailable=t,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLimit",value:function(e){this.sensorParams.limit=e,this.sendBackendUpdate()}},{key:"setVolLimit",value:function(e){this.volParams.limit=e,this.sendVolBackendUpdate()}},{key:"sendBackendUpdate",value:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:this.sensorParams.sensorType.int_name,unit:this.sensorParams.unit,limit:this.sensorParams.limit,channel:this.sensorParams.channel})};fetch("http://localhost:3005/updateSecParams",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))}},{key:"sendVolBackendUpdate",value:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:this.volParams.sensorType.int_name,unit:this.volParams.unit,limit:this.volParams.limit,channel:this.volParams.channel})};fetch("http://localhost:3005/updateVolParams",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))}}],[{key:"getInstance",value:function(){return null==e.myInstance&&(e.myInstance=new e),this.myInstance}}]),e}();X.myInstance=null;a(520),a(543),a(606);var q=["lasso2d","select2d","sendDataToCloud","zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","zoom3d","pan3d","orbitRotation","tableRotation","resetCameraDefault3d","resetCameraLastSave3d","hoverClosest3d","zoomInGeo","zoomOutGeo","resetGeo","hoverClosestGeo","hoverClosestGl2d","hoverClosestPie","toggleHover","toImage","resetViews","toggleSpikelines"],Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).SetTimeFrame=function(e){console.log("setting timeframe",e),n.setState({graphTimeRatio:e/10})},n.getPointsopt=function(){performance.now();var e=y.getInstance().getAllData();n.state.gdata.addPoint(e.flowData.instFlow,e.flowData.avgFlow,e.secData.unit,e.secData.reading,e.flowData.setPoint,e.flowData.volume,e.secData.extraData,e.volData.reading);var t=n.state.gdata.getPoints(n.state.graphTimeRatio),a=t[0],s=t[3],o=t[2],l=t[5],i=t[6],r=t[4],c=(t[7],t[7].length,[{type:"scatter",mode:"lines",x:l,y:o,line:{color:"#f7584d",width:5}},{type:"scatter",mode:"lines",x:l,y:a,line:{color:"#3ed5f0"}},{type:"scatter",mode:"lines",x:l,y:a,line:{color:"#3963DB",width:3}},{type:"scatter",mode:"lines",x:l,y:s,line:{color:"#f5b042",width:3},yaxis:"y2"},{type:"scatter",mode:"lines",x:l,y:i,line:{color:"#8D8D8D"},yaxis:"y2"},{type:"scatter",mode:"lines",x:l,y:r,line:{color:"#11bf60",width:3},yaxis:"y2"},{type:"scatter",mode:"lines",x:l,y:i,line:{color:"#8D8D8D"}},{type:"scatter",mode:"lines",x:l,y:i,line:{color:"#8D8D8D"},yaxis:"y2"}]),u={height:.9*window.innerHeight,showlegend:!1,yaxis:{title:"ml/min"},yaxis2:{overlaying:"y",side:"right",title:X.getInstance().getParams().unit},margin:{t:25,l:25}};n.state.graphRunning&&n.setState({layout:u,data:c});performance.now()},n.stopGraphDelayed=function(){console.log("Stopping Graph"),n.setState({graphRunning:!1})},n.ssButtonAssert=function(e){n.setState({graphRunning:e})},n.componentDidMount=function(){D.getInstance().addStopStartCallback(n.ssButtonAssert),y.getInstance().OnPoll(n.getPointsopt),y.getInstance().OnRunningChange(n.ssButtonAssert)},n.state={gdata:new H(6e3,100),data:[],layout:0,timeStr:"five",graphTimeRatio:.5,graphRunning:!0},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"graphContainer"},s.a.createElement("div",{className:"graph"},s.a.createElement(K.a,{data:this.state.data,layout:this.state.layout,config:{displayModeBar:!1,modeBarButtonsToRemove:q,responsive:!0},style:{bottom:"10%",right:"10%"}})),s.a.createElement("div",{className:"tfContainer"},1===this.state.graphTimeRatio&&s.a.createElement("div",null,s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(1)}},"1 Minute"),s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(5)}},"5 Minutes"),s.a.createElement("button",{className:"timeFrameButtonF",onClick:function(){e.SetTimeFrame(10)}},"10 Minutes")),.5===this.state.graphTimeRatio&&s.a.createElement("div",null,s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(1)}},"1 Minute"),s.a.createElement("button",{className:"timeFrameButtonF",onClick:function(){e.SetTimeFrame(5)}},"5 Minutes"),s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(10)}},"10 Minutes")),.1===this.state.graphTimeRatio&&s.a.createElement("div",null,s.a.createElement("button",{className:"timeFrameButtonF",onClick:function(){e.SetTimeFrame(1)}},"1 Minute"),s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(5)}},"5 Minutes"),s.a.createElement("button",{className:"timeFrameButton",onClick:function(){e.SetTimeFrame(10)}},"10 Minutes"))))}}]),a}(s.a.Component),Y=a(627),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).SetControlState=function(e){n.setState({controlState:e}),n.props.OnStateChange(e),n.setState({bColor:"#54D3FF"});var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:e})};fetch("http://localhost:3005/controlmode",t).then((function(e){return e.json()})).then((function(e){}),(function(e){}))},n.OnSetPointChange=function(e){n.setState({bColor:"#54D3FF"}),n.setState({flowset:e})},n.SetSetpoint=function(){n.setState({bColor:"#47C970"});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({setPoint:n.state.flowset})};fetch("http://localhost:3005/flowsetpoint",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))},n.SetVolume=function(){n.setState({bColor:"#47C970"});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({volDisp:n.state.volset,volumetric:n.state.volumeOnSecondary})};fetch("http://localhost:3005/voldisp",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))},n.GetSetPoint=function(){fetch("http://localhost:3007/getsetpt").then((function(e){return e.json()})).then((function(e){var t=e[0].last;n.setState({flowset:t})}),(function(e){}))},n.GetVolPoint=function(){fetch("http://localhost:3007/getvolpt").then((function(e){return e.json()})).then((function(e){var t=e[0].last;n.setState({volset:t})}),(function(e){}))},n.OnVolSetPointChange=function(e){n.setState({volset:e}),n.setState({bColor:"#54D3FF"})},n.OpenSettings=function(){n.setState({settingsOpen:!0})},n.componentDidMount=function(){n.GetSetPoint(),n.SetControlState(0),setInterval(n.GetUnit,150)},n.GetUnit=function(){var e=y.getInstance().getVolumetricData().unit,t=!1;"null"!=e&&(t=!0),n.setState({vunit:e,volumeOnSecondary:t})},n.state={controlState:0,flowset:0,volset:0,settingsOpen:!1,bColor:"#54D3FF",vunit:"mL",volumeOnSecondary:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"pidSection"},s.a.createElement("div",{className:"innerPidSection"},0===this.state.controlState&&s.a.createElement("div",{className:"buttonHDiv"},s.a.createElement("div",{className:"modeDiv"},s.a.createElement(Y.a.Group,{className:"buttonGroup"},s.a.createElement(Y.a,{className:"selButtonFh"},"Flow"),s.a.createElement(Y.a,{className:"selButtonV",onClick:function(){e.SetControlState(1)}},"Volume"))),s.a.createElement(W,{icon:s.a.createElement(h.a,{icon:d.a,size:"2x",color:"white"})})),1===this.state.controlState&&s.a.createElement("div",{className:"buttonHDiv"},s.a.createElement("div",{className:"modeDiv"},s.a.createElement(Y.a.Group,{className:"buttonGroup"},s.a.createElement(Y.a,{className:"selButtonF",onClick:function(){e.SetControlState(0)}},"Flow"),s.a.createElement(Y.a,{className:"selButtonVh"},"Volume"))),s.a.createElement(W,{icon:s.a.createElement(h.a,{icon:d.a,size:"2x",color:"white"})})),s.a.createElement("div",{className:"lowerPidSection"},0===this.state.controlState&&s.a.createElement("div",{className:"fieldCont"},s.a.createElement("div",{className:"spField"},s.a.createElement("span",{style:{color:"white",fontSize:"12px"}},"Flow Setpoint [mL/min]"),s.a.createElement(T,{initVal:this.state.flowset,onChange:this.OnSetPointChange}),s.a.createElement("button",{className:"spButton",onClick:this.SetSetpoint,style:{backgroundColor:this.state.bColor}},"Set"))),1===this.state.controlState&&s.a.createElement("div",{className:"fieldCont"},s.a.createElement("div",{className:"spField"},s.a.createElement("span",{style:{color:"white",fontSize:"12px"}},"Volume Setpoint [",this.state.vunit,"]"),s.a.createElement(T,{initVal:this.state.volset,onChange:this.OnVolSetPointChange}),s.a.createElement("button",{className:"spButton",onClick:this.SetVolume,style:{backgroundColor:this.state.bColor}},"Set"))))))}}]),a}(s.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(){e.props.toggle()},e.state={volOs:0},e.getOffset=function(){fetch("http://localhost:3005/getvOffset").then((function(e){return e.json()})).then((function(t){var a=t.offset;e.setState({volOs:a})}),(function(e){}))},e.componentDidMount=function(){e.getOffset()},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"modal",style:{height:"40%",width:"40%",top:"30%",left:"30%"}},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitlez"},s.a.createElement("div",{className:"titletext"},"Set Volume Calibration (Current: ",this.state.volOs,")")),s.a.createElement("div",{className:"exitButtonz",onClick:this.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement(V,{flipped:this.props.flipped,osType:"1",closeFunc:this.handleClick})))}}]),a}(s.a.Component),te=(s.a.Component,a(130),a(613),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.props.toggle()},n.buttonBlue=function(){n.setState({confirmColor:"#54D3FF"})},n.buttonGreen=function(){n.setState({confirmColor:"#47F185"})},n.onChange=function(e){n.setState({selectedLimitStr:e}),n.buttonBlue()},n.onKeyPress=function(e){"{shift}"===e||"{lock}"===e?n.handleShift():n.setState({layoutName:"default"})},n.populateLists=function(){for(var e=0;e<n.__sel.length;e++)n.state.typeList.push(s.a.createElement("option",{value:JSON.stringify(n.__sel[e])},n.__sel[e].name));n.forceUpdate()},n.populateUnits=function(e){n.state.unitList=[];for(var t=0;t<e.units.length;t++)n.state.unitList.push(s.a.createElement("option",{value:JSON.stringify(e.units[t])},e.units[t]))},n.populateChannels=function(e){n.state.channelList=[];for(var t=0;t<e.channels.length;t++)n.state.channelList.push(s.a.createElement("option",{value:JSON.stringify(e.channels[t])},e.channels[t]))},n.typeSelected=function(e){var t=JSON.parse(e.target.value);n.populateUnits(t),n.populateChannels(t),n.setState({selectedType:t,selectedUnit:t.units[0],selectedChannel:t.channels[0],volSelected:t.volumetric}),n.buttonBlue()},n.unitSelected=function(e){var t=JSON.parse(e.target.value);n.setState({selectedUnit:t}),n.buttonBlue()},n.channelSelected=function(e){var t=JSON.parse(e.target.value);n.setState({selectedChannel:t}),n.buttonBlue()},n.getTypeIdx=function(){return n.__sel.indexOf(n.state.selectedType)},n.SetParams=function(){var e=parseFloat(n.state.selectedLimitStr);void 0===n.props.volumetric?X.getInstance().setParams(n.state.selectedType,n.state.selectedUnit,n.state.selectedChannel,e):X.getInstance().setVolParams(n.state.selectedType,n.state.selectedUnit,n.state.selectedChannel,e),n.props.onParamUpdate(),n.buttonGreen()},n.componentDidMount=function(){n.populateLists()},n.limSelect=function(){n.setState({showKeyboard:!0})},n.limBlurred=function(){},n.limChanged=function(e){var t=e.target.value;n.setState({selectedLimitStr:t})},n.renderConnect=function(){return s.a.createElement("div",{className:"modalz"},s.a.createElement("div",{className:"modal_content"},s.a.createElement("div",{className:"modalTopBar"},s.a.createElement("div",{className:"modalTitlez"},s.a.createElement("div",{className:"titletext"},"Select Secondary Process Variable")),s.a.createElement("div",{className:"exitButtonx",onClick:n.handleClick},s.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",fontSize:"30px",fontWeight:"bold"}},"\xd7"))),s.a.createElement("form",{className:"secForm"},s.a.createElement("div",{className:"formDivwLabel"},s.a.createElement("label",{className:"secformLabel"},"Sensor Type:"),s.a.createElement("select",{className:"mainUnitDropdown",size:"8",id:"selectbox",value:JSON.stringify(n.state.selectedType),onChange:n.typeSelected},n.state.typeList)),s.a.createElement("div",{className:"formDivwLabel"},s.a.createElement("label",{className:"secformLabel"},"Units:"),s.a.createElement("select",{className:"mainUnitDropdown",size:"8",id:"selectbox",value:JSON.stringify(n.state.selectedUnit),onChange:n.unitSelected},n.state.unitList)),s.a.createElement("div",{className:"formDivwLabel"},s.a.createElement("label",{className:"secformLabel"},"Channel:"),s.a.createElement("select",{className:"mainUnitDropdown",size:"8",id:"selectbox",value:JSON.stringify(n.state.selectedChannel),onChange:n.channelSelected},n.state.channelList))),s.a.createElement("div",{className:"limContainer"},n.state.volSelected?s.a.createElement("span",{style:{left:"12%",position:"absolute"}},"Volume to Dispense Set in PID Menu."):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"limPref"},"Setpoint: "),s.a.createElement(T,{className:"limInput",onChange:n.onChange}),s.a.createElement("span",{className:"limSuff"},n.state.selectedUnit))),s.a.createElement("button",{className:"confirmButton",style:{backgroundColor:n.state.confirmColor},onClick:n.SetParams},"Confirm")))},n.renderContent=function(){return n.renderConnect()},n.__sel=Z.SecondarySelections,n.props.volumetric&&(n.__sel=Z.VolumetricSelections),n.state={selectedType:n.__sel[0],selectedTypeIdx:0,selectedUnit:"",selectedChannel:1,typeList:[],unitList:[],channelList:[],selectedLimit:0,selectedLimitStr:"0",showKeyboard:!1,confirmColor:"#54D3FF",volSelected:!1},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.renderContent())}}]),a}(s.a.Component));function ae(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function ne(e,t,a){return"#"+ae(Math.round(e))+ae(Math.round(t))+ae(Math.round(a))}var se=function(){for(var e=0,t=255,a=[];e<255;)(e+=255/49.5)>255&&(e=255),a.push(ne(e,t,0));for(;t>0;)(t-=255/49.5)<0&&(t=0),a.push(ne(e,t,0));return a}();function oe(e){e>99&&(e=99);var t=99-e;return se[Math.round(t)]}var le=s.a.createElement("text",{style:{fontWeight:"bold",color:"limegreen",float:"right"}},"CONNECTED"),ie=s.a.createElement("text",{style:{fontWeight:"bold",color:"red",float:"right"}},"DISCONNECTED"),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).openSetup=function(){var e=n.state.seen;n.setState({seen:!e})},n.loadDefault=function(){X.getInstance().setParams(Z.SecondarySelections[1],"psi",1,15),X.getInstance().sendBackendUpdate();var e=X.getInstance().getParams();n.setState({measurementType:e.sensorType,measurementUnit:e.unit,measurementLimit:e.limit,measurementChannel:e.channel})},n.onParamsChanged=function(){var e=X.getInstance(),t=e.getParams();n.setState({measurementType:t.sensorType,measurementUnit:t.unit,measurementLimit:t.limit,measurementChannel:t.channel}),e.sendBackendUpdate()},n.updateReading=function(){if(!n.state.seen){var e=X.getInstance();n.setState({currentReading:e.getReading().toFixed(2),measurementLimit:e.getSecLimit()});var t=100*n.state.currentReading/n.state.measurementLimit;t>99&&(t=99),n.setState({guageColor:oe(t)})}},n.sensorAvailable=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getInstance().sensorAvailable();case 2:if(!e.sent){e.next=6;break}n.setState({statusUI:le}),e.next=7;break;case 6:n.setState({statusUI:ie});case 7:case"end":return e.stop()}}),e)}))),n.componentDidMount=function(){n.loadDefault(),setInterval(n.updateReading,100),setInterval(n.sensorAvailable,500)},n.onLimchange=function(e){isNaN(e)&&(e=0),n.setState({measLimInput:e}),n.keyPadRef&&n.keyPadRef.setVal(e)},n.applyLimChange=function(){X.getInstance().setLimit(n.state.measLimInput)},n.state={measurementType:Z.SecondarySelections[0],measurementUnit:"",measurementLimit:0,measLimBuf:0,measurementChannel:0,currentReading:0,guageColor:oe(0),seen:!1,statusUI:le,measLimInput:0},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return this.props.shallRender?s.a.createElement("div",{className:"innersecSection"},s.a.createElement("span",{style:{color:"white",fontSize:"14px",alignSelf:"left"}},this.state.measurementType.name," CH ",this.state.measurementChannel,"   ",this.state.statusUI),s.a.createElement("div",{className:"lowerSecDiv"},s.a.createElement(T,{keyPadRef:function(t){return e.keypad=t},overrideval:this.state.measurementLimit,className:"outLimInput",onEnter:this.applyLimChange,onChange:this.onLimchange}),s.a.createElement("button",{className:"secButton",onClick:this.openSetup,style:{backgroundColor:"#54D3FF"}},"Setup")),s.a.createElement("div",{className:"sguage"},s.a.createElement("div",{className:"sflowBox"},s.a.createElement("div",{className:"sinnerFlowBox"},s.a.createElement("div",{className:"sdivider"}),s.a.createElement("div",{className:"sdivider",style:{top:"-35%"}},this.state.currentReading,"/",this.state.measurementLimit)),s.a.createElement("div",{className:"sinnerFlowBoxL",style:{backgroundColor:this.state.guageColor}},s.a.createElement("div",{className:"sdivider"}),s.a.createElement("div",{className:"sdivider",style:{top:"-35%"}},this.state.measurementUnit)))),this.state.seen?s.a.createElement(te,{flipped:this.props.flipped,toggle:this.openSetup,onParamUpdate:this.onParamsChanged}):null):null}}]),a}(s.a.Component),ce=function(){function e(){Object(i.a)(this,e),this.envVars={rotate:!1},this.didLoad=!1}return Object(r.a)(e,[{key:"envsLoaded",value:function(){return this.didLoad}},{key:"loadVariables",value:function(){var e=this;fetch("http://localhost:3005/getEnvVars").then((function(e){return e.json()})).then((function(t){e.envVars.rotate=t.rotate,e.didLoad=!0}),(function(e){}))}},{key:"shouldRotate",value:function(){return this.envVars.rotate}}],[{key:"getInstance",value:function(){return null==e._instance&&(e._instance=new e),this._instance}}]),e}();ce._instance=null;s.a.Component;var ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={seen:0,loggingMsg:"Start Logging",fName:"",sColor:"#60E570"},e.available=!0,e.sendBackend=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:e})};fetch("http://localhost:3005/prime",t).then((function(e){return e.json()})).then((function(e){}),(function(e){}))},e.setHeld=function(){e.available&&(e.setState({sColor:"red"}),e.sendBackend(!0))},e.setReleased=function(){e.available&&(e.setState({sColor:"#60E570"}),e.sendBackend(!1))},e.ssFunc=function(t){e.available=!t;var a="grey";t||(a="#60E570"),e.setState({sColor:a})},e.componentDidMount=function(){y.getInstance().OnRunningChange(e.ssFunc)},e}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("button",{className:"primeButton",style:{backgroundColor:this.state.sColor},onTouchStart:this.setHeld,onTouchEnd:this.setReleased,onMouseDown:this.setHeld,onMouseUp:this.setReleased},"Prime"))}}]),a}(s.a.Component);function me(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function de(e,t,a){return"#"+me(Math.round(e))+me(Math.round(t))+me(Math.round(a))}var he=function(){for(var e=0,t=255,a=[];e<255;)(e+=255/49.5)>255&&(e=255),a.push(de(e,t,0));for(;t>0;)(t-=255/49.5)<0&&(t=0),a.push(de(e,t,0));return a}();function fe(e){e>99&&(e=99);var t=99-e;return he[Math.round(t)]}var pe=s.a.createElement("text",{style:{fontWeight:"bold",color:"limegreen",float:"right"}},"CONNECTED"),ve=s.a.createElement("text",{style:{fontWeight:"bold",color:"red",float:"right"}},"DISCONNECTED"),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).openSetup=function(){var e=n.state.seen;n.setState({seen:!e})},n.loadDefault=function(){X.getInstance().setVolParams(Z.VolumetricSelections[1],"g",1,15),X.getInstance().sendVolBackendUpdate();var e=X.getInstance().getVolParams();n.setState({measurementType:e.sensorType,measurementUnit:e.unit,measurementLimit:e.limit,measurementChannel:e.channel})},n.onParamsChanged=function(){var e=X.getInstance(),t=e.getVolParams();n.setState({measurementType:t.sensorType,measurementUnit:t.unit,measurementLimit:t.limit,measurementChannel:t.channel}),e.sendVolBackendUpdate()},n.updateReading=function(){if(!n.state.seen){var e=y.getInstance().getVolumetricData();n.setState({currentReading:e.reading.toFixed(2),measurementLimit:e.setpoint,measurementUnit:e.unit}),n.sensorAvailable(e.available);var t=100*n.state.currentReading/n.state.measurementLimit;t>99&&(t=99),n.setState({guageColor:fe(t)})}},n.sensorAvailable=function(e){e?n.setState({statusUI:pe}):n.setState({statusUI:ve})},n.componentDidMount=function(){n.sensorAvailable(!1),y.getInstance().OnPoll(n.updateReading)},n.onLimchange=function(e){isNaN(e)&&(e=0),n.setState({measLimInput:e}),n.keyPadRef&&n.keyPadRef.setVal(e)},n.applyLimChange=function(){X.getInstance().setVolLimit(n.state.measLimInput)},n.state={measurementType:Z.VolumetricSelections[0],measurementUnit:"",measurementLimit:0,measLimBuf:0,measurementChannel:0,currentReading:0,guageColor:fe(0),seen:!1,statusUI:pe,measLimInput:0},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return this.props.shallRender?s.a.createElement("div",{className:"innersecSection"},s.a.createElement("span",{style:{color:"white",fontSize:"14px",alignSelf:"left"}},this.state.measurementType.name," CH ",this.state.measurementChannel,"   ",this.state.statusUI),s.a.createElement("div",{className:"lowerSecDiv"},s.a.createElement(T,{keyPadRef:function(t){return e.keypad=t},overrideval:this.state.measurementLimit,className:"outLimInput",onEnter:this.applyLimChange,onChange:this.onLimchange}),s.a.createElement("button",{className:"secButton",onClick:this.openSetup,style:{backgroundColor:"#54D3FF"}},"Setup")),s.a.createElement("div",{className:"sguage"},s.a.createElement("div",{className:"sflowBox"},s.a.createElement("div",{className:"sinnerFlowBox"},s.a.createElement("div",{className:"sdivider"}),s.a.createElement("div",{className:"sdivider",style:{top:"-35%"}},this.state.currentReading,"/",this.state.measurementLimit)),s.a.createElement("div",{className:"sinnerFlowBoxL",style:{backgroundColor:this.state.guageColor}},s.a.createElement("div",{className:"sdivider"}),s.a.createElement("div",{className:"sdivider",style:{top:"-35%"}},this.state.measurementUnit)))),this.state.seen?s.a.createElement(te,{volumetric:!0,flipped:this.props.flipped,toggle:this.openSetup,onParamUpdate:this.onParamsChanged}):null):null}}]),a}(s.a.Component),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).selectFlow=function(){0!==n.state.tabState&&n.setState({tabState:0,flowColor:"dodgerblue",volColor:"#8cc6ff"})},n.selectVolume=function(){1!==n.state.tabState&&n.setState({tabState:1,flowColor:"#8cc6ff",volColor:"dodgerblue"})},n.state={tabState:0,flowColor:"dodgerblue",volColor:"#8cc6ff"},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"secSection"},s.a.createElement("div",{style:{color:"white",fontSize:"18px",textAlign:"center",width:"100%"}},"Secondary Control"),s.a.createElement("div",{className:"secTabContainer"},s.a.createElement("div",{className:"secTab",style:{backgroundColor:this.state.flowColor},onClick:this.selectFlow},"Flow"),s.a.createElement("div",{className:"secTab",style:{backgroundColor:this.state.volColor},onClick:this.selectVolume},"Volume")),s.a.createElement(re,{OnStateChange:this.props.updatePidState,flipped:this.props.flipped,shallRender:!this.state.tabState}),s.a.createElement(ge,{OnStateChange:this.props.updatePidState,flipped:this.props.flipped,shallRender:this.state.tabState}))}}]),a}(s.a.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).assertRotate=function(){ce.getInstance().shouldRotate()&&n.rotateScreen(),n.setState({viewReady:!0})},n.loadEnvs=function(){var e=ce.getInstance();e.loadVariables(),e.envsLoaded()?n.assertRotate():setTimeout(n.loadEnvs,10)},n.updateLogState=n.updateLogState.bind(Object(c.a)(n)),n.updatePidState=n.updatePidState.bind(Object(c.a)(n)),n.rotateScreen=n.rotateScreen.bind(Object(c.a)(n)),n.state={logState:!1,pidState:0,screenRotation:"appContainer",flipped:!1,viewReady:!1},n}return Object(r.a)(a,[{key:"updateLogState",value:function(e){this.setState({logState:e})}},{key:"updatePidState",value:function(e){this.setState({pidState:e})}},{key:"rotateScreen",value:function(){this.state.screenRotation.valueOf()==="appContainer".valueOf()?(this.setState({screenRotation:"appContainerFlip",flipped:!0}),1):(0,this.setState({screenRotation:"appContainer",flipped:!1}))}},{key:"socketListener",value:function(e){}},{key:"componentDidMount",value:function(){window.addEventListener("contextmenu",(function(e){e.preventDefault()})),y.getInstance(),this.loadEnvs()}},{key:"render",value:function(){return s.a.createElement("div",{className:this.state.screenRotation},s.a.createElement(b,{rotatePressed:this.rotateScreen}),s.a.createElement("div",{className:"leftPanel"},s.a.createElement(Q,{controlState:this.state.pidState})),s.a.createElement("div",{className:"rightPanel"},s.a.createElement(z,{logState:this.state.logState}),s.a.createElement($,{OnStateChange:this.updatePidState}),s.a.createElement(Se,{OnStateChange:this.updatePidState,flipped:this.state.flipped}),s.a.createElement(E,null),s.a.createElement(N,null),s.a.createElement("div",{className:"rButtonDiv"},s.a.createElement(M,null),s.a.createElement(k,null),s.a.createElement(j,{logState:this.updateLogState}),s.a.createElement(ue,null),s.a.createElement(x,null))))}}]),a}(s.a.Component),ye=a(71),be=a(35),Ee=Object(be.a)();l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ye.c,{history:Ee},s.a.createElement(ye.d,null,s.a.createElement(ye.b,{path:"/Control"},s.a.createElement(Ce,null))),s.a.createElement(ye.a,{exact:!0,from:"/",to:"Control"}))),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.ac47ff2e.chunk.js.map